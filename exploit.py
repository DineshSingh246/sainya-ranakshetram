#!/usr/bin/env python3

import pwn
import subprocess

print(subprocess.check_output('./compile.sh').decode())

process = pwn.process('./question')

element_count = 11 # anything greater that 10 will break the binary as well
line = process.recv().decode()
process.sendline(f'{element_count}'.encode()) # send the count of elements we want to store
print(line, element_count)

while True:
    line = process.recv().decode()
    process.sendline(b'42') # fill in the array with any value upto size 10
    # when we access index 11, we will cause the application to crash
    print(line, 42)
    element_count -= 1
